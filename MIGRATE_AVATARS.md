# üñºÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤ –≤ Supabase Storage

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:

```bash
cd /Users/rafael/crm-desktop
./run-migration.sh avatars
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
export VITE_SUPABASE_URL="https://bddgzxvhosxlyildlmya.supabase.co"
export VITE_SUPABASE_ANON_KEY="sb_publishable_y6GXqTFLQ9NvMoOpOeHm4A_osnntYOX"

node scripts/migrate-avatars-to-storage.mjs
```

---

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∞–≤–∞—Ç–∞—Ä—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ `~/Library/Application Support/CRM Desktop/avatars/`
2. ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Ö –≤ Supabase Storage bucket `avatars`
3. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏

---

## –í–∞–∂–Ω–æ:

- ‚ö†Ô∏è **–ü—É—Ç–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π** (–æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ `crm://avatar_xxx.jpg`)
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase URLs –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –í Electron –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

---

## –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Storage –≤ Supabase Dashboard ‚Üí Storage ‚Üí avatars
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –∞–≤–∞—Ç–∞—Ä—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä - –æ–Ω —Ç–æ–∂–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –≤ Storage

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

- **Bucket –Ω–µ –Ω–∞–π–¥–µ–Ω**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ bucket `avatars` —Å–æ–∑–¥–∞–Ω (—Å–º. SETUP_STORAGE.md)
- **–§–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- **–û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ Supabase –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

