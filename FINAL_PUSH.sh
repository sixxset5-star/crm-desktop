#!/bin/bash
# –§–∏–Ω–∞–ª—å–Ω—ã–π push - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –Ω–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤

set -e

echo "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ñ–∞–π–ª–∞—Ö
if grep -r "ghp_" . --include="*.md" --include="*.txt" --include="*.sh" 2>/dev/null | grep -v ".git"; then
    echo "‚ùå –ù–∞–π–¥–µ–Ω—ã —Ç–æ–∫–µ–Ω—ã –≤ —Ñ–∞–π–ª–∞—Ö! –£–¥–∞–ª–∏—Ç–µ –∏—Ö –ø–µ—Ä–µ–¥ push"
    exit 1
fi

echo "‚úÖ –°–µ–∫—Ä–µ—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
echo "üì§ –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞ GitHub..."
git push -u origin main --force

